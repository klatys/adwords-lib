<?php
/*
 * File generated by ClassyFile <https://github.com/onema/classyfile>
 * (c) 2015, Juan Manuel Torres
 *
 * For the full copyright and license information,
 * please view the LICENSE file that was distributed
 * with this source code.
 */
namespace Google\Api\Ads\AdWords\Lib;
use Exception;
use Google\Api\Ads\Common\Lib\AdsUser;
use Google\Api\Ads\Common\Lib\SoapClientFactory;

/**
 * Factory class for SOAP clients for the AdWords API.
 * @package GoogleApiAdsAdWords
 * @subpackage Lib
 */
class AdWordsSoapClientFactory extends SoapClientFactory
{
    /**
     * The constructor for the AdWords API SOAP client factory.
     * @param AdsUser $user the user which the client will use for credentials
     * @param string $version the version to generate clients for
     * @param string $server the server to generate clients for
     * @param bool $validateOnly if the clients should be created in validateOnly
     *     mode
     * @param bool $partialFailure if the service should be created in
     *     partialFailure mode
     */
    public function __construct(AdsUser $user, $version, $server, $validateOnly, $partialFailure)
    {
        if ($version >= 'v201109' && $user->GetHeaderValue('clientEmail') != null) {
            throw new Exception('The header "clientEmail" is not compatible with ' . 'versions v201109 and later. Use clientCustomerId instead.');
        }
        $headerOverrides = array();
        if (isset($validateOnly) || isset($partialFailure)) {
            $headerOverrides['validateOnly'] = $validateOnly;
            $headerOverrides['partialFailure'] = $partialFailure;
        }
        parent::__construct($user, $version, $server, 'adwords', $headerOverrides);
    }
    /**
     * Initiates a require_once for the service.
     * @param string $serviceName the service to instantiate
     */
    public function DoRequireOnce($serviceName)
    {
//        require_once implode('/', array(dirname(__FILE__), '..', $this->GetVersion(), $serviceName . '.php'));
    }
}
